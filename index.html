<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Winter Collection</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg fixed-top">
        <div class="container">
            <a class="navbar-brand" href="#">
                <img src="./img/img/logo.png" alt="Winter Collection Logo" class="me-2" style="height: 40px; width: auto;">
                <span class="logo d-none d-sm-inline">Winter Collection</span>
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNav">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>

            <div class="collapse navbar-collapse" id="mainNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a class="nav-link active" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="new-arrivals.html">New Arrivals</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="collections.html">Collections</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="sale.html">Sale</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>

                <div class="nav-icons d-flex align-items-center">
                    <div class="search-container me-3">
                        <div class="search-box" id="searchBox">
                            <input type="text" id="searchInput" placeholder="Search products..." autocomplete="off">
                            <button type="button" class="search-button" id="searchButton">
                                <i class="fas fa-search"></i>
                            </button>
                            <div id="searchResults" class="search-results"></div>
                        </div>
                    </div>
                    <div class="d-flex align-items-center">
                        <a href="login.html" class="nav-icon me-3" title="Account">
                            <i class="far fa-user"></i>
                        </a>
                        <a href="cart.html" class="nav-icon position-relative" title="Cart">
                            <i class="fas fa-shopping-cart"></i>
                            <span id="cartBadge" class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" style="font-size: 0.6rem; display: none;">0</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Modern Hero Section -->
    <div class="hero-section position-relative overflow-hidden">
        <div class="hero-overlay"></div>
        <div class="container position-relative z-index-1">
            <div class="row min-vh-100 align-items-center">
                <div class="col-lg-7 text-center text-lg-start">
                    <span class="badge bg-white text-dark mb-3 px-3 py-2 fw-normal">New Winter Collection 2025</span>
                    <h1 class="display-3 fw-bold mb-4 text-white">Embrace the <span class="text-gradient">Winter Magic</span></h1>
                    <p class="lead mb-5 text-white-50">Discover our exclusive winter collection designed to keep you warm and stylish this season. Premium quality meets modern design.</p>
                    <div class="d-flex flex-wrap gap-3">
                        <a href="#new-arrivals" class="btn btn-primary btn-lg px-4 py-3 fw-bold">
                            <i class="fas fa-snowflake me-2"></i>Shop Now
                        </a>
                        <a href="collections.html" class="btn btn-outline-light btn-lg px-4 py-3 fw-bold">
                            <i class="fas fa-layer-group me-2"></i>View Collection
                        </a>
                    </div>
                    <div class="mt-5">
                        <div class="row g-4">
                            <div class="col-6 col-md-4">
                                <div class="d-flex align-items-center text-white">
                                    <div class="feature-icon me-3">
                                        <i class="fas fa-truck"></i>
                                    </div>
                                    <div>
                                        <div class="fw-bold mb-1">Free Shipping</div>
                                        <small class="text-white-50">On orders over $50</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="d-flex align-items-center text-white">
                                    <div class="feature-icon me-3">
                                        <i class="fas fa-shield-alt"></i>
                                    </div>
                                    <div>
                                        <div class="fw-bold mb-1">Secure Payment</div>
                                        <small class="text-white-50">100% secure checkout</small>
                                    </div>
                                </div>
                            </div>
                            <div class="col-6 col-md-4">
                                <div class="d-flex align-items-center text-white">
                                    <div class="feature-icon me-3">
                                        <i class="fas fa-undo"></i>
                                    </div>
                                    <div>
                                        <div class="fw-bold mb-1">Easy Returns</div>
                                        <small class="text-white-50">30-day return policy</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-5 d-none d-lg-block">
                    <div class="hero-image-container">
                            <span>50% OFF</span>
                            <small>On Selected Items</small>
                        </div>
                        <img src="" alt="" class="img-fluid hero-image">
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="container mt-5 main-content">

        <!-- New Arrivals Section -->
        <section class="new-arrivals mb-5 py-5" style="background: linear-gradient(to bottom, #ffffff 0%, #fff9fb 100%);">
            <div class="d-flex justify-content-between align-items-center mb-4">
                <h2 class="section-title position-relative d-inline-block pb-2">
                    <span style="position: relative; z-index: 1;">New Arrivals</span>
                    <span class="position-absolute bottom-0 start-0 w-100" style="height: 8px; background: linear-gradient(90deg, #ff6b6b, #9c89b8); opacity: 0.3; z-index: 0; border-radius: 4px;"></span>
                </h2>
                <a href="new-arrivals.html" class="view-all">View All <i class="fas fa-arrow-right ms-1"></i></a>
            </div>
            <div class="row g-4">
                <!-- Product 1 -->
                <div class="col-md-6 col-lg-3">
                    <div class="product-card h-100" data-product-id="prod-001">
                        <div class="product-badge new">New</div>
                        <div class="product-image">
                            <img src="img/img/img1.jpeg" alt="Winter Parka" class="img-fluid">
                            <div class="product-actions">
                                <button class="btn-action" title="Add to Wishlist"><i class="far fa-heart"></i></button>
                                <button class="btn-action" title="Quick View"><i class="fas fa-eye"></i></button>
                            </div>
                        </div>
                        <div class="product-details p-3">
                            <h5 class="product-title">Winter Parka</h5>
                            <p class="product-category">Outerwear</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="price">$149.99</span>
                                <button class="btn btn-sm btn-dark add-to-cart-btn" data-price="149.99">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Product 2 -->
                <div class="col-md-6 col-lg-3">
                    <div class="product-card h-100" data-product-id="prod-002">
                        <div class="product-badge sale">Sale</div>
                        <div class="product-image">
                            <img src="img/img/img2.jpeg" alt="Knit Sweater" class="img-fluid">
                            <div class="product-actions">
                                <button class="btn-action" title="Add to Wishlist"><i class="far fa-heart"></i></button>
                                <button class="btn-action" title="Quick View"><i class="fas fa-eye"></i></button>
                            </div>
                        </div>
                        <div class="product-details p-3">
                            <h5 class="product-title">Knit Sweater</h5>
                            <p class="product-category">Sweaters</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <div>
                                    <span class="price text-danger">$59.99</span>
                                    <span class="text-muted text-decoration-line-through ms-2">$79.99</span>
                                </div>
                                <button class="btn btn-sm btn-dark add-to-cart-btn" data-price="59.99">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Product 3 -->
                <div class="col-md-6 col-lg-3">
                    <div class="product-card h-100" data-product-id="prod-003">
                        <div class="product-badge new">New</div>
                        <div class="product-image">
                            <img src="img/img/img3.jpeg" alt="Winter Boots" class="img-fluid">
                            <div class="product-actions">
                                <button class="btn-action" title="Add to Wishlist"><i class="far fa-heart"></i></button>
                                <button class="btn-action" title="Quick View"><i class="fas fa-eye"></i></button>
                            </div>
                        </div>
                        <div class="product-details p-3">
                            <h5 class="product-title">Winter Boots</h5>
                            <p class="product-category">Footwear</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="price">$129.99</span>
                                <button class="btn btn-sm btn-dark add-to-cart-btn" data-price="129.99">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Product 4 -->
                <div class="col-md-6 col-lg-3">
                    <div class="product-card h-100" data-product-id="prod-004">
                        <div class="product-badge hot">Hot</div>
                        <div class="product-image">
                            <img src="img/img/img4.jpeg" alt="Wool Scarf" class="img-fluid">
                            <div class="product-actions">
                                <button class="btn-action" title="Add to Wishlist"><i class="far fa-heart"></i></button>
                                <button class="btn-action" title="Quick View"><i class="fas fa-eye"></i></button>
                            </div>
                        </div>
                        <div class="product-details p-3">
                            <h5 class="product-title">Wool Scarf</h5>
                            <p class="product-category">Accessories</p>
                            <div class="d-flex justify-content-between align-items-center">
                                <span class="price">$39.99</span>
                                <button class="btn btn-sm btn-dark add-to-cart-btn" data-price="39.99">Add to Cart</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Winter Collection Section -->
        <section class="winter-collection mb-5">
            <div class="row g-4">
                <!-- Product Card 1 -->
                <div class="col-md-6 col-lg-4 col-xl-3">
                    <div class="card product-card h-100 border-0">
                        <div class="position-relative">
                            <img src="img/img/img1.jpeg" class="card-img-top" alt="Winter Coat">
                            <div class="product-badge bg-danger text-white">New</div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Wool Blend Coat</h5>
                            <p class="text-muted">Elegant and Warm</p>
                            <p class="card-text fw-bold">$129.99</p>
                            <button class="btn btn-outline-dark btn-sm add-to-cart-btn">Add to Cart</button>
                        </div>
                    </div>
                </div>

                <!-- Product Card 2 -->
                <div class="col-md-6 col-lg-4 col-xl-3">
                    <div class="card product-card h-100 border-0">
                        <div class="position-relative">
                            <img src="./img/img/img2.jpeg" class="card-img-top" alt="Knit Sweater">
                            <div class="product-badge bg-success text-white">Bestseller</div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Chunky Knit Sweater</h5>
                            <p class="text-muted">Cozy and Stylish</p>
                            <p class="card-text fw-bold">$89.99</p>
                            <button class="btn btn-outline-dark btn-sm add-to-cart-btn">Add to Cart</button>
                        </div>
                    </div>
                </div>

                <!-- Product Card 3 -->
                <div class="col-md-6 col-lg-4 col-xl-3">
                    <div class="card product-card h-100 border-0">
                        <div class="position-relative">
                            <img src="./img/img/img3.jpeg" class="card-img-top" alt="Winter Boots">
                            <div class="product-badge bg-info text-white">Sale</div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Leather Winter Boots</h5>
                            <p class="text-muted">Waterproof & Warm</p>
                            <p class="card-text"><span class="text-decoration-line-through text-muted me-2">$159.99</span> <span class="fw-bold">$119.99</span></p>
                            <button class="btn btn-outline-dark btn-sm add-to-cart-btn">Add to Cart</button>
                        </div>
                    </div>
                </div>

                <!-- Product Card 4 -->
                <div class="col-md-6 col-lg-4 col-xl-3">
                    <div class="card product-card h-100 border-0">
                        <div class="position-relative">
                            <img src="./img/img/img4.jpeg" class="card-img-top" alt="Scarf & Gloves Set">
                            <div class="product-badge bg-warning text-dark">Limited</div>
                        </div>
                        <div class="card-body text-center">
                            <h5 class="card-title">Cashmere Scarf Set</h5>
                            <p class="text-muted">Luxuriously Soft</p>
                            <p class="card-text fw-bold">$149.99</p>
                            <button class="btn btn-outline-dark btn-sm add-to-cart-btn">Add to Cart</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Collection Categories -->
        <section class="collection-categories mb-5">
            <h2 class="text-center mb-4">Shop by Category</h2>
            <div class="row g-4">
                <div class="col-md-4">
                    <div class="category-card position-relative overflow-hidden rounded">
                        <img src="./img/img/women_1.jpeg" alt="Coats & Jackets" class="img-fluid w-100">
                        <div class="category-overlay">
                            <h3 class="text-white">Coats & Jackets</h3>
                            <a href="#" class="btn btn-outline-light">Shop Now</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="category-card position-relative overflow-hidden rounded">
                        <img src="./img/img/img_2.jpeg" alt="Sweaters" class="img-fluid w-100">
                        <div class="category-overlay">
                            <h3 class="text-white">Sweaters</h3>
                            <a href="#" class="btn btn-outline-light">Shop Now</a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4">
                    <div class="category-card position-relative overflow-hidden rounded">
                        <img src="./img/img/men_6.jpeg" alt="Accessories" class="img-fluid w-100">
                        <div class="category-overlay">
                            <h3 class="text-white">Accessories</h3>
                            <a href="#" class="btn btn-outline-light">Shop Now</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    
    <!-- Search Modal -->
    <div class="modal fade" id="searchModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-0">
                    <h5 class="modal-title">Search Products</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="searchForm" class="d-flex">
                        <input type="text" class="form-control form-control-lg" id="searchInput" placeholder="Search for products..." autocomplete="off">
                        <button type="submit" class="btn btn-primary ms-2">
                            <i class="fas fa-search"></i>
                        </button>
                    </form>
                    <div id="searchResults" class="mt-3">
                        <!-- Search results will be displayed here -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <!-- Load cart.js first -->
    <script src="js/cart.js"></script>
    
    <!-- Cart Functionality -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Make sure cart manager is available
            if (typeof CartManager === 'undefined') {
                console.error('CartManager is not defined. Make sure cart.js is loaded.');
                return;
            }

            // Initialize cart manager if not already initialized
            const cartManager = window.cartManager || new CartManager();
            window.cartManager = cartManager;

            // Function to update cart badge
            function updateCartBadge() {
                const badge = document.getElementById('cartBadge');
                if (badge) {
                    const count = cartManager.cart?.reduce((total, item) => total + (parseInt(item.quantity) || 1), 0) || 0;
                    badge.textContent = count;
                    badge.style.display = count > 0 ? 'block' : 'none';
                }
            }

            // Add click event listener for all Add to Cart buttons
            document.addEventListener('click', async function(e) {
                if (e.target.closest('.add-to-cart-btn')) {
                    e.preventDefault();
                    const btn = e.target.closest('.add-to-cart-btn');
                    const productCard = btn.closest('.product-card');
                    
                    // Get product details
                    const product = {
                        id: productCard.dataset.productId || `prod-${Date.now()}`,
                        name: productCard.querySelector('.product-title')?.textContent.trim() || 'Product',
                        price: parseFloat(btn.dataset.price || 
                                      productCard.querySelector('.price')?.textContent.replace(/[^0-9.]/g, '') || 0),
                        image: productCard.querySelector('img')?.src || '',
                        quantity: 1
                    };
                    
                    // Visual feedback
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Adding...';
                    btn.disabled = true;
                    
                    try {
                        // Add to cart
                        await cartManager.addToCart(product);
                        
                        // Update cart badge
                        updateCartBadge();
                        
                        // Show success feedback
                        btn.innerHTML = '<i class="fas fa-check"></i> Added!';
                        
                        // Show notification if available
                        if (cartManager.showNotification) {
                            cartManager.showNotification('Item added to cart!');
                        }
                        
                        // Reset button after delay
                        setTimeout(() => {
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        }, 2000);
                    } catch (error) {
                        console.error('Error adding to cart:', error);
                        btn.innerHTML = '<i class="fas fa-times"></i> Error';
                        
                        if (cartManager.showNotification) {
                            cartManager.showNotification('Failed to add item to cart', 'error');
                        }
                        
                        // Reset button after delay
                        setTimeout(() => {
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        }, 2000);
                    }
                }
            });

            // Initial cart badge update
            updateCartBadge();
            
            // Also update when cart changes
            if (cartManager.updateCartCount) {
                cartManager.updateCartCount();
            }

            // Add click event listener for all Add to Cart buttons
            document.addEventListener('click', async function(e) {
                if (e.target.closest('.add-to-cart-btn')) {
                    e.preventDefault();
                    const btn = e.target.closest('.add-to-cart-btn');
                    const productCard = btn.closest('.product-card');
                    
                    // Get product details
                    const product = {
                        id: productCard.dataset.productId || `prod-${Date.now()}`,
                        name: productCard.querySelector('.product-title')?.textContent.trim() || 'Product',
                        price: parseFloat(btn.dataset.price || 
                                      productCard.querySelector('.price')?.textContent.replace(/[^0-9.]/g, '') || 0),
                        image: productCard.querySelector('img')?.src || '',
                        quantity: 1
                    };
                    
                    // Visual feedback
                    const originalText = btn.innerHTML;
                    btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Adding...';
                    btn.disabled = true;
                    
                    try {
                        // Add to cart
                        await cartManager.addToCart(product);
                        
                        // Update cart count
                        cartManager.updateCartCount();
                        
                        // Show success feedback
                        btn.innerHTML = '<i class="fas fa-check"></i> Added!';
                        
                        // Show notification
                        cartManager.showNotification('Item added to cart!');
                        
                        // Reset button after delay
                        setTimeout(() => {
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        }, 2000);
                    } catch (error) {
                        console.error('Error adding to cart:', error);
                        btn.innerHTML = '<i class="fas fa-times"></i> Error';
                        cartManager.showNotification('Failed to add item to cart', 'error');
                        
                        // Reset button after delay
                        setTimeout(() => {
                            btn.innerHTML = originalText;
                            btn.disabled = false;
                        }, 2000);
                    }
                }
            });

            // Initial cart count update
            cartManager.updateCartCount();
        });
    </script>
    
    <!-- Other scripts -->
    <script src="js/navbar.js"></script>
    <script src="js/search.js"></script>
    <script src="js/collections.js"></script>
    <script src="script.js"></script>
</body>
</html>